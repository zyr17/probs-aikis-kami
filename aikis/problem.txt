三年战争Aikis
题目描述：
某一天，Z被人安利了一款游戏，名字叫做“三年战争Aikis”。这是一个类似塔防的游戏，和平常的塔防略有不同，“塔”是你的士兵她们并不是无敌的。塔防的地图构成了一棵树，在树上的每个节点都有一个摆放远程兵的位置和一个摆放近程兵的位置。Z现在有一些远程兵和近程兵。远程兵有不同的攻击力，它们的攻击范围都是所在的节点和所有与她所在节点相邻的节点。近程兵有着不同的血量和攻击力，它们只能攻击在它们所在格子的单位；同时，近程兵可以阻拦敌军，使之不能继续往前走，直到敌军被杀死或者她被杀死。由于Z才刚开始玩，所以每一波攻击只会有一只怪物，这只怪物的移动速度是每个单位时间移动一格，攻击力是1。当它走到的地方存在近程兵时，就会和近程兵同时进行一次攻击。怪物会从出生点S_i走到E_i，如果在怪物走到了E_i，并且E_i已经没有近程兵防守的话，那么这一波进攻就算防御失败了。只有在上一波攻击的怪物死亡或者到达终点后，下一波攻击才会开始。由于近程兵减员的很快，Z会不时的在两波攻击之间，在地图上补充或者替换近程兵来阻挡怪物前进的脚步。因为Z还没有医疗兵，所以近程兵在受到伤害后是不会回血的。现在给出Z所摆放的兵的位置，每一波怪物的行动路线和Z补充、替换近程兵的情况，请问对于每波攻击，Z是否防御住了？如果防御住了，是在哪个点斩杀了怪物？
输入格式：
第一行有一个数字N，表示有N个节点。接下来的N-1行，每行有两个数Ai,Bi表示Ai和Bi之间有一条边。输入保证图是连通的。接下来的一行有一个数字M_1，表示最开始Z在地图上摆了几个远程兵。
接下来M_1行，每行有两个数字Pos_i和Atk_i，表示第i个远程兵放在位置Pos_i，攻击力Atk_i。接下来一行有一个数字M_2，表示最开始Z在地图上摆了几个近程兵。
接下来M_2行，每行有三个数字Pos_i，Atk_i和Hp_i，表示第i个远程兵放在位置Pos_i，攻击力Atk_i，血量Hp_i。
接下来一行有一个数字Q，代表怪物攻击波数和Z补充近程兵的次数之和。接下来Q行，每行开头有一个字母。如果字母是A，代表此时Z进行了一次近程兵摆放操作。后面会给出三个数字Pos_i，Atk_i和Hp_i，表示这个兵放在位置Pos_i，攻击力Atk_i，血量Hp_i；如果字母是W，代表此时有新的一波怪物。后面会给出三个数字S_i，E_i和Hp_i，表示这只怪物的起始点，终点和它的血量。
输入保证任意时刻都不会有一个点出现两只近程兵或者两只远程兵。
输出格式：
对于每波怪物输出一行。如果没能成功防守怪物，输出"Fail"以及怪物剩余血量，中间用一个空格隔开。如果成功放手了怪物，输出"Kill"以及杀死怪物的格子，中间用一个空格隔开。
样例输入1：
8
1 2
2 3
3 4
2 5
5 6
5 7
7 8
2
2 5
5 2
3
1 1 5
2 1 3
8 2 8
9
A 8 2 5
Q 7 8 5
Q 7 8 8
A 8 2 5
Q 8 1 74
Q 8 1 74
Q 6 2 15
A 3 5 100
Q 6 4 10000
样例输出1：
Kill 8
Kill 8
Fail 1
Fail 53
Kill 2
Fail 8984
样例解释1：
第一波怪物在点7出生时受到了2点的远程攻击。走到8时和在8的近程兵对打，2回合后被打死，近程兵损失2血，剩余3血。
第二波怪物同样出生受到2点攻击，在8点与近程兵进行了三回合攻击，与近程兵同归于尽。
第三波怪物分别在点7受到2伤害，点5受到7伤害，点2受到24点伤害并消灭近程兵，点1受到30点伤害并消灭近程兵，最终剩余1血，防御失败。
第四波怪物路线和第三波一样，由于近程兵全体阵亡，最终剩余53血到达终点。
第五波怪物在走到2时被远程兵打死。
第六波怪物到达4时剩余8984血。
样例输入2：
3
1 2
2 3
1
2 100
1
2 1 1
4
Q 1 3 400
A 2 100 1
Q 1 3 101
Q 1 3 301
样例输出2：
Fail 99
Kill 2
Fail 1
样例解释2：
第一波怪物在点1受到100点的远程攻击，在点2遇到近程兵，近程兵被直接敲死，怪物共受到101点伤害，在点3受到100点伤害后怪物剩余99血。
第二波怪物在点1受到100点远程攻击，剩余1血到达点2，并在敲死近程兵的同时被打死。
第三波怪物在每个点均受到100点伤害，最终剩余1血。
数据范围：
30%满足：N,Q<=1000
100%满足：N<=50000,Q<=200000,攻击力<=10000，怪物血量<=10^9，每一波怪物的起点和终点保证不相同。
时间限制：2s